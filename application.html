<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Complete your Garissa County Bursary Application" />
  <title>Garissa MBMS • Application Form</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    .form-section { display: none; }
    .form-section.active { display: block; }
    .progress-bar-custom { height: 8px; border-radius: 4px; }
    .step-indicator { cursor: pointer; }
    .autosave-indicator { position: fixed; top: 20px; right: 20px; z-index: 1050; }
    
    /* Mobile-friendly form adjustments */
    @media (max-width: 768px) {
      .autosave-indicator {
        top: 10px;
        right: 10px;
        font-size: 0.8rem;
        padding: 0.5rem;
      }
      
      .form-section {
        padding: 1rem 0.5rem;
      }
      
      .step-indicator {
        font-size: 0.7rem;
        padding: 0.4rem 0.6rem;
      }
      
      .progress-bar-custom {
        height: 6px;
      }
    }
  </style>
</head>
<body class="bg-app">
  <div class="autosave-indicator">
    <div id="saveStatus" class="alert alert-sm mb-0 shadow-sm" style="display:none;">
      <i class="bi bi-check-circle me-1"></i><span id="saveStatusText">Saved</span>
    </div>
  </div>

  <div class="container py-4">
    <div class="row justify-content-center">
      <div class="col-lg-11">
        <div class="card border-0 shadow-lg rounded-4">
          <div class="card-header bg-primary-700 text-white py-3">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <img src="Garissa Logo.png" alt="" class="logo-circle me-2" style="width:50px;height:50px;" onerror="this.style.display='none'"/>
                <h4 class="mb-0 d-inline">Bursary Application Form</h4>
              </div>
              <div>
                <button id="saveBtn" class="btn btn-warning btn-sm me-2">
                  <i class="bi bi-save me-1"></i>Save Progress
                </button>
                <a href="applicant_dashboard.html" class="btn btn-outline-light btn-sm">
                  <i class="bi bi-arrow-left me-1"></i>Back to Dashboard
                </a>
              </div>
            </div>
            <div class="progress mt-3 progress-bar-custom">
              <div id="progressBar" class="progress-bar bg-warning" role="progressbar" style="width: 20%"></div>
            </div>
            <div class="d-flex justify-content-between mt-2 small">
              <span class="step-indicator" data-step="0">Part A: Personal</span>
              <span class="step-indicator" data-step="1">Part B: Family</span>
              <span class="step-indicator" data-step="2">Part C: Institution</span>
              <span class="step-indicator" data-step="3">Part D: Financial</span>
              <span class="step-indicator" data-step="4">Review & Submit</span>
            </div>
          </div>

          <div class="card-body p-4 p-md-5">
            <form id="applicationForm" class="needs-validation" novalidate>
              <!-- PART A: STUDENT PERSONAL DETAILS -->
              <div class="form-section active" id="section0">
                <h5 class="text-primary-700 mb-4"><i class="bi bi-person me-2"></i>PART A: STUDENT PERSONAL DETAILS</h5>
                
                <div class="row g-3">
                  <div class="col-md-4">
                    <label class="form-label">First Names <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="firstNames" required />
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Middle Name</label>
                    <input type="text" class="form-control" id="middleName" />
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Last Name <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="lastNameApp" required />
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Sex/Gender <span class="text-danger">*</span></label>
                    <select class="form-select" id="genderApp" name="genderApp" required style="pointer-events: auto; opacity: 1; cursor: pointer;">
                      <option value="">-- Select Gender --</option>
                      <option value="Male">Male</option>
                      <option value="Female">Female</option>
                    </select>
                    <div class="invalid-feedback">Please select your gender.</div>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Student Phone Number <span class="text-danger">*</span></label>
                    <input type="tel" class="form-control" id="studentPhone" required />
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Parent/Guardian Phone Number <span class="text-danger">*</span></label>
                    <input type="tel" class="form-control" id="parentPhone" required />
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Name of Institution/University <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="institutionName" required />
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Student Registration Number <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="regNumber" required />
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Year/Form <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="yearForm" placeholder="e.g. Form 4 or Year 2" required />
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Nature of Course <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="courseNature" placeholder="e.g. Secondary Education" required />
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Duration <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="courseDuration" placeholder="e.g. 4 years" required />
                  </div>
                </div>
              </div>

              <!-- PART B: FAMILY INFORMATION -->
              <div class="form-section" id="section1">
                <h5 class="text-primary-700 mb-4"><i class="bi bi-people me-2"></i>PART B: FAMILY INFORMATION</h5>
                
                <div class="row g-3">
                  <div class="col-12">
                    <label class="form-label">(1) Tick appropriately <span class="text-danger">*</span></label>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="parentStatus" id="bothDead" value="Both parents dead" required />
                      <label class="form-check-label" for="bothDead">Both parents dead</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="parentStatus" id="oneDead" value="One parent dead" required />
                      <label class="form-check-label" for="oneDead">One parent dead</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="parentStatus" id="bothAlive" value="Both parents alive" required />
                      <label class="form-check-label" for="bothAlive">Both parents alive</label>
                    </div>
                    <small class="text-muted">NB: Attach death certificate if parent is dead</small>
                  </div>

                  <div class="col-12">
                    <label class="form-label">(2) Do you have any disability/handicap?</label>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="hasDisability" id="disabilityYes" value="Yes" />
                      <label class="form-check-label" for="disabilityYes">Yes</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="hasDisability" id="disabilityNo" value="No" />
                      <label class="form-check-label" for="disabilityNo">No</label>
                    </div>
                    <textarea class="form-control mt-2" id="disabilityDescription" placeholder="If YES, describe nature of disability" rows="2" style="display:none;"></textarea>
                  </div>

                  <div class="col-12">
                    <label class="form-label">(3) Select Parent or Guardian Information <span class="text-danger">*</span></label>
                    <div class="radio-group mb-3">
                      <label class="radio-label" for="selectParent">
                        <input class="form-check-input" type="radio" name="parentOrGuardian" id="selectParent" value="parent" checked />
                        <span class="radio-custom"></span>
                        <strong>Parent Information</strong>
                      </label>
                      <label class="radio-label" for="selectGuardian">
                        <input class="form-check-input" type="radio" name="parentOrGuardian" id="selectGuardian" value="guardian" />
                        <span class="radio-custom"></span>
                        <strong>Guardian Information</strong>
                      </label>
                    </div>
                  </div>

                  <!-- Parent Information Section -->
                  <div class="row g-3" id="parentInfoSection">
                    <div class="col-md-6">
                      <label class="form-label">Full name of father</label>
                      <input type="text" class="form-control" id="fatherName" />
                    </div>
                    <div class="col-md-6">
                      <label class="form-label">Father's occupation</label>
                      <input type="text" class="form-control" id="fatherOccupation" />
                    </div>
                    <div class="col-md-6">
                      <label class="form-label">Full name of mother</label>
                      <input type="text" class="form-control" id="motherName" />
                    </div>
                    <div class="col-md-6">
                      <label class="form-label">Mother's occupation</label>
                      <input type="text" class="form-control" id="motherOccupation" />
                    </div>
                  </div>

                  <!-- Guardian Information Section -->
                  <div class="row g-3" id="guardianInfoSection" style="display: none;">
                    <div class="col-md-6">
                      <label class="form-label">Full name of guardian</label>
                      <input type="text" class="form-control" id="guardianName" />
                    </div>
                    <div class="col-md-6">
                      <label class="form-label">Guardian's occupation</label>
                      <input type="text" class="form-control" id="guardianOccupation" />
                    </div>
                  </div>

                  <div class="col-md-6">
                    <label class="form-label">(4) How many brothers and sisters do you have?</label>
                    <input type="number" class="form-control" id="totalSiblings" min="0" />
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">(5) How many children does your guardian have?</label>
                    <input type="number" class="form-control" id="guardianChildren" min="0" />
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">(6) How many are working/in business?</label>
                    <input type="number" class="form-control" id="siblingsWorking" min="0" />
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">(7) How many are in secondary schools?</label>
                    <input type="number" class="form-control" id="siblingsSecondary" min="0" />
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">(8) How many are in post-secondary institution?</label>
                    <input type="number" class="form-control" id="siblingsPostSecondary" min="0" />
                  </div>

                  <div class="col-12">
                    <label class="form-label">(9) If both parents are not alive, who has been paying for your education? (Tick)</label>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="educationPayer" id="payerGuardian" value="Guardian" />
                      <label class="form-check-label" for="payerGuardian">Guardian</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="educationPayer" id="payerSponsor" value="Sponsor/Well-wishers" />
                      <label class="form-check-label" for="payerSponsor">Sponsor/Well-wishers</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="educationPayer" id="payerOther" value="Other" />
                      <label class="form-check-label" for="payerOther">Other (specify)</label>
                    </div>
                    <input type="text" class="form-control mt-2" id="payerOtherSpecify" placeholder="Specify other" style="display:none;" />
                  </div>

                  <div class="col-12">
                    <label class="form-label">(10) Have you ever benefitted from the constituency Bursary Fund?</label>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="previousBenefit" id="benefitYes" value="Yes" />
                      <label class="form-check-label" for="benefitYes">Yes</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="previousBenefit" id="benefitNo" value="No" />
                      <label class="form-check-label" for="benefitNo">No</label>
                    </div>
                    <div class="row g-2 mt-2" id="previousBenefitDetails" style="display:none;">
                      <div class="col-md-6">
                        <label class="form-label">Amount received (Ksh)</label>
                        <input type="number" class="form-control" id="previousAmount" min="0" />
                      </div>
                      <div class="col-md-6">
                        <label class="form-label">Year</label>
                        <input type="number" class="form-control" id="previousYear" min="2000" max="2025" />
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- PART C: COLLEGE/UNIVERSITY -->
              <div class="form-section" id="section2">
                <h5 class="text-primary-700 mb-4"><i class="bi bi-building me-2"></i>PART C: COLLEGE/UNIVERSITY</h5>
                
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label">Name of Principal/Head <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="principalName" required />
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Principal's Tel No.</label>
                    <input type="tel" class="form-control" id="principalPhone" />
                  </div>
                  <div class="col-12">
                    <label class="form-label">Principal's brief comments on student's level of need and academic performance</label>
                    <textarea class="form-control" id="principalComments" rows="4" placeholder="To be filled by the Principal/Head"></textarea>
                  </div>
                  <div class="col-12">
                    <label class="form-label">Student's Discipline (Tick one option only) <span class="text-danger">*</span></label>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="discipline" id="disciplineExcellent" value="Excellent" required />
                      <label class="form-check-label" for="disciplineExcellent">Excellent</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="discipline" id="disciplineVGood" value="Very Good" required />
                      <label class="form-check-label" for="disciplineVGood">Very Good</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="discipline" id="disciplineGood" value="Good" required />
                      <label class="form-check-label" for="disciplineGood">Good</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="discipline" id="disciplineFair" value="Fair" required />
                      <label class="form-check-label" for="disciplineFair">Fair</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="discipline" id="disciplinePoor" value="Poor" required />
                      <label class="form-check-label" for="disciplinePoor">Poor</label>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Outstanding fees amount (Ksh) <span class="text-danger">*</span></label>
                    <input type="number" class="form-control" id="outstandingFees" min="0" required />
                  </div>
                </div>
              </div>

              <!-- PART D: FINANCIAL INFORMATION -->
              <div class="form-section" id="section3">
                <h5 class="text-primary-700 mb-4"><i class="bi bi-cash-coin me-2"></i>PART D: FINANCIAL INFORMATION</h5>
                
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label">Parent/Guardian Monthly Income (Ksh) <span class="text-danger">*</span></label>
                    <input type="number" class="form-control" id="monthlyIncome" min="0" required />
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Total Annual Fees (Ksh) <span class="text-danger">*</span></label>
                    <input type="number" class="form-control" id="totalAnnualFees" min="0" required />
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Current Fee Balance (Ksh) <span class="text-danger">*</span></label>
                    <input type="number" class="form-control" id="feeBalance" min="0" required />
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Amount Requested (Ksh) <span class="text-danger">*</span></label>
                    <input type="number" class="form-control" id="amountRequested" min="0" required />
                  </div>
                  <div class="col-12">
                    <label class="form-label">Justification for Bursary (Brief statement) <span class="text-danger">*</span></label>
                    <textarea class="form-control" id="justification" rows="5" placeholder="Explain why you need the bursary, your family's financial situation, and any other relevant information..." required></textarea>
                    <small class="text-muted">Maximum 500 words</small>
                  </div>
                </div>
              </div>

              <!-- REVIEW & SUBMIT -->
              <div class="form-section" id="section4">
                <h5 class="text-primary-700 mb-4"><i class="bi bi-check-circle me-2"></i>Review & Submit</h5>
                
                <div class="alert alert-warning">
                  <i class="bi bi-exclamation-triangle me-2"></i>
                  <strong>Before submitting:</strong> Please review all information carefully. Once submitted, you cannot edit the application.
                </div>

                <div id="reviewSummary" class="card bg-light p-4">
                  <!-- Summary will be populated by JavaScript -->
                </div>

                <div class="form-check mt-4">
                  <input class="form-check-input" type="checkbox" id="confirmSubmit" required />
                  <label class="form-check-label" for="confirmSubmit">
                    I confirm that all information provided is accurate and true. I understand that false information may lead to disqualification.
                  </label>
                </div>
              </div>

              <div class="d-flex justify-content-between mt-4">
                <button type="button" class="btn btn-secondary" id="prevBtn" style="display:none;">
                  <i class="bi bi-arrow-left me-1"></i>Previous
                </button>
                <div class="ms-auto">
                  <button type="button" class="btn btn-primary-700" id="nextBtn" title="Continue to next step">
                    Next <i class="bi bi-arrow-right ms-1"></i>
                  </button>
                  <button type="submit" class="btn btn-success" id="submitBtn" style="display:none;">
                    <i class="bi bi-check-circle me-1"></i>Submit Application
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.js"></script>
  <script src="js/data.js"></script>
  <script src="js/utils.js"></script>
  <!-- Browser Compatibility Layer (load first) -->
  <script src="js/browser-compat.js"></script>
  <!-- Mobile Compatibility Layer (load early) -->
  <script src="js/mobile-compat.js"></script>
  <!-- Firebase SDK (for unified database) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="firebase_config.js"></script>
  <script src="js/firebase-db.js"></script>
  <!-- UNIFIED DATABASE ACCESS LAYER (load early) -->
  <script src="js/database.js"></script>
  <!-- BUTTON FIX & COMPATIBILITY LAYER (load before application.js) -->
  <script src="js/button-fix.js"></script>
  <!-- BUTTON COMPATIBILITY TEST (load after button-fix) -->
  <script src="js/button-test.js"></script>
  <!-- UNIFIED SYSTEM ACTIVATOR (load before application.js) -->
  <script src="js/unified-system-activator.js"></script>
  <script src="js/application.js"></script>
  <!-- APPLICATION NEXT BUTTON FIX (load after application.js to ensure button works) -->
  <script src="js/application-next-button-fix.js"></script>
  <!-- COMPLETE APPLICATION SYSTEM (load last to ensure submission works) -->
  <script src="js/complete-application-system.js"></script>
  <!-- SYSTEM VERIFICATION TEST (load to verify all functionality) -->
  <script src="js/system-verification-test.js"></script>
  <!-- FINAL PRODUCTION READY (load last to ensure everything works) -->
  <script src="js/final-production-ready.js"></script>
  <!-- NEXT BUTTON COMPLETE FIX (load very last to ensure Next button works perfectly) -->
  <script src="js/next-button-complete-fix.js"></script>
  <!-- SUBMIT VERIFICATION (load last to verify everything works) -->
  <script src="js/submit-verification.js"></script>
  <!-- COMPATIBILITY CHECKER & AUTOFIXER (load to detect and fix issues) -->
  <script src="js/compatibility-checker.js"></script>
  <!-- BUTTON VERIFICATION COMPLETE (load to verify all buttons are working) -->
  <script src="js/button-verification-complete.js"></script>
  <!-- FINAL BUTTON TEST (comprehensive testing of Next, Submit, Save, Autosave, Autoupdate, Autofix) -->
  <script src="js/final-button-test.js"></script>
  <!-- SYSTEM POLISH COMPLETE (activates all dropdowns, buttons, inputs) -->
  <script src="js/system-polish-complete.js"></script>
  <!-- DATABASE CLEAR COMPLETE (for clearing database) -->
  <script src="js/database-clear-complete.js"></script>
  <!-- SYSTEM TEST COMPLETE (comprehensive testing) -->
  <script src="js/system-test-complete.js"></script>
  <!-- FINAL SYSTEM POLISH (ensures real-time updates, normalizes database) -->
  <script src="js/system-final-polish.js"></script>
  <!-- SMART ENHANCEMENTS (activates all failing elements, adds smart features) -->
  <script src="js/smart-enhancements.js"></script>
  <!-- UPDATE NOTIFICATION (notifies users of new updates) -->
  <script src="js/update-notification.js"></script>
  <!-- SMART CODE ANALYZER (analyzes all code, detects errors) -->
  <script src="js/smart-code-analyzer.js"></script>
  <!-- COMPREHENSIVE AUTO-FIXER (fixes all errors, ensures all functionality works) -->
  <script src="js/comprehensive-auto-fixer.js"></script>
  
  <!-- Parent/Guardian Toggle Logic -->
  <script>
    (function() {
      // Wait for DOM to be ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initParentGuardianToggle);
      } else {
        initParentGuardianToggle();
      }
      
      function initParentGuardianToggle() {
        const selectParent = document.getElementById('selectParent');
        const selectGuardian = document.getElementById('selectGuardian');
        const parentInfoSection = document.getElementById('parentInfoSection');
        const guardianInfoSection = document.getElementById('guardianInfoSection');
        
        if (!selectParent || !selectGuardian || !parentInfoSection || !guardianInfoSection) {
          console.log('Parent/Guardian toggle elements not found - retrying...');
          setTimeout(initParentGuardianToggle, 500);
          return;
        }
        
        // Function to toggle sections
        function toggleSections() {
          if (selectParent.checked) {
            // Show parent section, hide guardian section
            parentInfoSection.style.display = 'block';
            guardianInfoSection.style.display = 'none';
            // Disable guardian inputs
            const guardianInputs = guardianInfoSection.querySelectorAll('input, select, textarea');
            guardianInputs.forEach(field => {
              field.disabled = true;
              field.required = false;
              field.value = '';
            });
            // Enable parent inputs
            const parentInputs = parentInfoSection.querySelectorAll('input, select, textarea');
            parentInputs.forEach(field => {
              field.disabled = false;
            });
            console.log('✅ Parent section enabled, Guardian section disabled');
          } else if (selectGuardian.checked) {
            // Show guardian section, hide parent section
            parentInfoSection.style.display = 'none';
            guardianInfoSection.style.display = 'block';
            // Disable parent inputs
            const parentInputs = parentInfoSection.querySelectorAll('input, select, textarea');
            parentInputs.forEach(field => {
              field.disabled = true;
              field.required = false;
              field.value = '';
            });
            // Enable guardian inputs
            const guardianInputs = guardianInfoSection.querySelectorAll('input, select, textarea');
            guardianInputs.forEach(field => {
              field.disabled = false;
            });
            console.log('✅ Guardian section enabled, Parent section disabled');
          } else {
            // Neither selected - show both but disabled
            parentInfoSection.style.display = 'block';
            guardianInfoSection.style.display = 'block';
            // Disable all
            const allInputs = document.querySelectorAll('#parentInfoSection input, #parentInfoSection select, #guardianInfoSection input, #guardianInfoSection select');
            allInputs.forEach(field => {
              field.disabled = true;
              field.required = false;
            });
          }
        }
        
        // Add event listeners
        selectParent.addEventListener('change', toggleSections);
        selectGuardian.addEventListener('change', toggleSections);
        
        // Initialize - default to parent
        if (!selectParent.checked && !selectGuardian.checked) {
          selectParent.checked = true;
        }
        toggleSections();
        
        console.log('✅ Parent/Guardian toggle initialized');
      }
      
      // Ensure gender dropdown is enabled
      function enableGenderDropdown() {
        const genderSelect = document.getElementById('genderApp');
        if (genderSelect) {
          genderSelect.disabled = false;
          genderSelect.style.pointerEvents = 'auto';
          genderSelect.style.opacity = '1';
          genderSelect.style.cursor = 'pointer';
          console.log('✅ Gender dropdown enabled');
        }
      }
      
      // Run on load
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', enableGenderDropdown);
      } else {
        enableGenderDropdown();
      }
      
      // Also run after a short delay to ensure it's enabled
      setTimeout(enableGenderDropdown, 500);
    })();
  </script>
  
  <!-- Footer -->
  <footer class="mt-5 py-4" style="background: linear-gradient(135deg, var(--primary-700) 0%, var(--primary-600) 100%); color: white;">
    <div class="container">
      <div class="text-center">
        <p class="mb-2" style="font-size: 0.9rem;">
          <span style="color: #FFD700; font-weight: bold;">Garissa County Bursary Management System v3.0</span>
        </p>
        <p class="mb-0" style="font-size: 0.85rem; opacity: 0.9;">
          System developed by <a href="mailto:jmsmuigai@gmail.com" style="color: #FFD700; text-decoration: none; font-weight: bold;">jmsmuigai@gmail.com</a>
        </p>
        <p class="mt-2 mb-0" style="font-size: 0.75rem; opacity: 0.8;">
          © 2025 Garissa County Government. All rights reserved.
        </p>
      </div>
    </div>
  </footer>
</body>
</html>

